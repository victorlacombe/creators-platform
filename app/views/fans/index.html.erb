<div class="dashboard-content">
  <!-- DASHBOARD LEFT NAVBAR BEGINS HERE -->
  <%= render 'shared/dashboard-left-navbar' %>
  <!-- DASHBOARD LEFT NAVBAR ENDS HERE -->

  <div class="dashboard-right-content">
    <h1 class="text-center">Hello <%= current_user.first_name.nil? ? current_user.channel_name : current_user.first_name.capitalize  %> !</h1>
    <div class="container">
      <% if params[:query] == "" || params[:query].nil? %>
        <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-4">
            <div class="stats-card">
              <div class="stats-label">
                ALL-TIME
              </div>
              <div class="stats-content">
                <div class="stats-number">
                  <strong><%= @all_time_fans.size %></strong>
                </div>
                <div class="stats-numberlabel">FANS</div>
                <div class="stats-numbersublabel">A fan is someone who commented on your video</div>
              </div>
            </div>
          </div>
          <div class="col-xs-12 col-sm-12 col-md-4">
            <div class="stats-card">
              <div class="stats-label">
                LAST MONTH
              </div>
              <div class="stats-content">
                <div class="stats-number">
                  <strong><%= @last_month_new_fans.size %></strong>
                </div>
                <div class="stats-numberlabel">NEW FANS</div>
                <div class="stats-numbersublabel">A first comment from a fan during the last month</div>
              </div>
            </div>
          </div>
          <div class="col-xs-12 col-sm-12 col-md-4">
            <div class="stats-card">
              <div class="stats-label">
                LAST MONTH
              </div>
              <div class="stats-content">
                <div class="stats-number">
                  <strong>
                    <%= @last_month_new_loyal_fans.size %>
                  </strong>
                </div>
                <div class="stats-numberlabel">NEW LOYAL FANS</div>
                <div class="stats-numbersublabel">A second / third / fourth comment from a fan during the last month</div>
              </div>
            </div>
          </div>
        </div>
      <% end %>


      <div class="row">
        <div id="all-fans"> <!-- Used for kaminari infinite scrolling -->
          <%= render "fans/all_fans", fans: @fans %>
        </div>
      </div>

      <%= paginate @fans %> <!-- , remote: true -->
    </div>
  </div>
</div>
